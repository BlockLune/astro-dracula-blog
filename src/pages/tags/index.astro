---
import BaseLayout from "../../layouts/base-layout.astro";
import TagGroup from "../../components/tag-group.tsx";
import { getCollection } from "astro:content";
import { getUniqueLowerCaseTagMap } from "../../scripts/utils";

const allPosts = await getCollection("posts");
const tags = getUniqueLowerCaseTagMap(
  allPosts.map((post) => post.data.tags).flat(),
);
---

<BaseLayout>
  <TagGroup tagMap={tags} client:load />
</BaseLayout>
